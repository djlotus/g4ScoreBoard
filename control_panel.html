<!doctype html>
<!-- 
G4ScoreBoard addon for OBS version 1.6.0 Copyright 2022 Norman Gholson IV
https://g4billiards.com http://www.g4creations.com
this is a purely javascript/html/css driven scoreboard system for OBS Studio
free to use and modify and use as long as this copyright statment remains intact. 
Salotto logo is the copyright of Salotto and is used with their permission.
for more information about Salotto please visit https://salotto.app
-->

<html>
    <head>
	 <script>
	 //---------------------------------------------------------------------------------------------
	 var versionNum = "1.6.0.daily.20220915";
 	 var cLogoName = "Custom";  // 13 character limit. it will auto trim to 13 characters.
	 //---------------------------------------------------------------------------------------------
	 </script>
	 
	 <script src="./common/js/jquery.js"></script>
	 <script src="hotkeys.js"></script>
     <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"> 
    <style>
	.slidecontainer {
	  width: 100%;
	  position:relative;
	  bottom:-10px;
	}

	.slider {
	  -webkit-appearance: none;
	  width: 100%;
	  height: 5px;
	  border-radius: 5px;
	  background: #d3d3d3;
	  outline: none;
	  opacity: 1;
	  -webkit-transition: .2s;
	  transition: opacity .2s;
	}

	.slider::-webkit-slider-thumb {
	  -webkit-appearance: none;
	  appearance: none;
	  width: 15px;
	  height: 15px;
	  border-radius: 50%;
	  background: #3345a3;
	  cursor: pointer;
	}

	.slider::-moz-range-thumb {
	  width: 15px;
	  height: 15px;
	  border-radius: 50%;
	  background: #3345a3;
	  cursor: pointer;
	}
	
	.maroon {
		background: maroon;
		}
	.blue28 {
		background: #3345a3;
		border:0px;
		}
	.obs28 {
		background: #3c404b;
		border:0px;
	}
	.obs27 {
			background:#4c4c4c;
		   }

	body{
		font-family:tahoma;
		background: #2b2e38;
		margin-left:auto;
		margin-right:auto;
		margin-bottom:auto;
		margin-top:1px;
		}
	span {
		cursor: default;
		color:lightgrey;
		font-size:8pt;
		}
	div {
		color:lightgrey;
		min-height: 30px;
		border: 0px solid #000;
		border-radius: 5px;
		display: flex;
		 justify-content: center; /* align horizontal */
		align-items: center; /* align vertical */
		font-size:9pt;
		}
		
	#mainDiv {
		margin-top: 0px;
		margin-right: auto;
		margin-left: auto;
		margin-bottom: auto;
		display: flex;
		min-height: 95%;
		border: 0px solid #000;
		border-radius: 0px;
		min-width:50px;
		justify-content: center; /* align horizontal */

		font-size:8pt;
		padding:20px;
		padding-right:60px;
		padding-left:60px;
		padding-top:2px;
	
		}
	
	#sendP1Score, #sendP1ScoreSub, #shotClock30, #shotClockShow, #p1extensionBtn, #p1ExtReset {
		cursor: pointer;
		min-width:85px;
		width:125px;
		position:absolute;
		right:50%;
		padding-left:10px;
		padding-right:10px;
		margin-right:2px;
		font-size:8pt;
		}
		
	#sendP2Score, #sendP2ScoreSub, #shotClock60, #clockLocalDisplay, #p2extensionBtn, #p2ExtReset {
		cursor: pointer;
		width:125px;
		position:absolute;
		left:50%;
		padding-left:10px;
		padding-right:10px;
		margin-left:2px;
		font-size:8pt;
		}
	
	
	
	
	
	#logoSsImg1, #logoSsImg2, #logoSsImg3 {
	position:absolute;
	cursor: pointer;
	font-size:8pt;
	left:50%;
	padding-left:0px;
	padding-right:0px;
	padding-bottom:2px;
	width: 47px;
	}
	#logoSsImg1 {
		margin-left:2px;

	}
	#logoSsImg2 {
		margin-left:51px;

	}
	#logoSsImg3 {
		margin-left:100px;

	}
	
	#p1colorDiv {
		
		cursor: pointer;
		width:116px;
		position:absolute;
		right:50%;
		padding-left:10px;
		padding-right:10px;

		color: #fff;
		border-radius:5px;
		margin-right:30px;
		font-family:tahoma;
		font-size:8pt;
		color: lightgrey;
	}
	
	#p2colorDiv {
		cursor: pointer;
		width:116px;
		position:absolute;
		left:50%;
		padding-left:10px;
		padding-right:10px;
		
		color: #fff;
		border-radius:5px;
		margin-left:30px;
		font-family:tahoma;
		font-size:8pt;
		color: lightgrey;
	}
	
	
	#stopClockDiv, #resetBtn, #sendPNames {
			cursor: pointer;
			width:294px;
			font-size:9pt;

		}
	.hover {
	}
	.hover:hover {
		background:#4f535e;
	}
	
	.noShow{
        visibility:hidden;
        }
	#clockLocalDisplay {
		font-weight:bolder;
	}
	
	#footer {
	width:90%;
	left:5%;
	border: none;
	background: none;
	position: absolute;
	bottom: 5px;
	text-align:center;
	}
	#FileUpload, #FileUploadL1, #FileUploadL2, #FileUploadL3 {
    display: none;
	}

	#btnFile {
	font-size:8pt;

	color: lightgrey;
	border: none;
	padding:0px;
	cursor: pointer;
	}
	
	
	#topPlayerGameInfo {
	min-width:85px;
	width:295px;
	height:78px;
	position:relative;
	top:33px;
	display:block;
	font-size:8pt;
	padding-top:5px;
	
	}
	
	#settingsBox1, #logoSlideShowDiv {
	min-width:85px;
	width:125px;
	position:absolute;
	right:50%;
	padding-left:10px;
	padding-right:10px;
	padding-bottom:2px;
	margin-right:2px;
	}
	
	#settingsBox2 {
	cursor: pointer;
	font-size:8pt;
	min-width:85px;
	width: 145px;
	position:absolute;
	left:50%;
	margin-left:2px;
	padding-bottom:2.5px;
	padding-top:2.5px;
	}	
	
	#settingsBox3 {
	cursor: arrow;
	min-width:85px;
	width:145px;
	position:static;
	left:50%;
	margin-left:150px;
	
	margin-bottom:3px;
	font-size:7pt;
	}	
	
	text {
	cursor: default;
	}
	
	input.smallSize {
	height: 11px;
	width: 11px;
	color:red;
	}
	
	#swapBtn {
		cursor:pointer;
		position:relative;
		border: 1px solid #997300;

		padding-bottom:2px;
		width:10%;
		min-width:30px;
		min-height:15px;
		font-size:7pt;

		 
	}
	hr{
		border-top: 1px solid #997300;
		border-bottom: 0px;
		width:290px;
	}
	#bsStyle{
		position:relative;
		font-size: 8pt;
		cursor: pointer;
		border-radius:5px;
		font-family:tahoma;
		color: lightgrey;
		bottom:0px;
		border:0px;
		text-align:justify
		
	}
	#obsThemeDiv {
		position:fixed;
		font-size: 8pt;
		cursor: pointer;
		border-radius:5px;
		font-family:tahoma;
		color: lightgrey;
		top:10px;
		border:0px;
		left:50%;
		text-align:justify
	}
	
	#obsTheme{
		font-size: 8pt;
		cursor: pointer;
		border-radius:5px;
		font-family:tahoma;
		color: lightgrey;
		text-align:justify
	}
	
	#obsThemeLabel {
		position:fixed;
		font-size: 8pt;
		right:50%;
		font-family:tahoma;
		font-size:8pt;
		color: lightgrey;
		top:10px;
	}
	input {
		border-radius:3px;
		border:0px;
	}
	
		.tooltip {
		}
				
		.tooltip .tooltiptext {
		visibility: hidden;
		width:70px;
		background: rgba(0,0,0,0.6);
		border-radius: 6px;
		padding: 5px 0;
	  
		/* Position the tooltip */
		position: absolute;
		z-index: 1;
		bottom: 100%;
		left: 50%;
		margin-left: -50px;
		}

		.tooltip:hover .tooltiptext {
		  visibility: visible;
		}
	</style>
	</head>
	
	
    <body>
       
        <div id="mainDiv">
         <center><div id="topPlayerGameInfo" class="obs28"><p style="font-size:1px">&nbsp;</p>
	    Player/Team 1 Name:&nbsp;<input style="font-size:8pt; width: 120px; background:lightgrey" type="text" id="p1Name" placeholder="Player 1"><br><p style="font-size:1px">&nbsp;</p>
        Player/Team 2 Name:&nbsp;<input style="font-size:8pt; width: 120px; background:lightgrey" type="text" id="p2Name" placeholder="Player 2"><br><p style="font-size:1px">&nbsp;</p>
		<text style="font-size:4px">&nbsp;</text>Game and Race Info:&nbsp;<input style="font-size:8pt; width: 120px; background:lightgrey" type="text" id="raceInfoTxt" placeholder=""><br><p style="font-size:1px">&nbsp;</p>
		<text style="font-size:8.5px">&nbsp;&nbsp;&nbsp;</text>Wager / Other Info:&nbsp;<input style="font-size:8pt; width: 120px; background:lightgrey" type="text" id="wagerInfoTxt" placeholder=""><p style="font-size:5px" /p></div>
		<p style="font-size:12px">&nbsp;</p>
		<div class="hover" id="sendPNames" onclick="postNames()">Update Info</div>
		<p style="font-size:1.5pt">&nbsp;</p>
		<select style="text-align:justify" name="p1Colors" id="p1colorDiv" class="obs28" onchange="playerColorChange(1)">
			<option value="" default>P1 Color</option>
            <option value="grey">Grey</option>
			<option value="steelblue">SteelBlue</option>
            <option value="cadetblue">CadetBlue</option>
			<option value="blue">Blue</option>
            <option value="tomato">Tomato</option>
			<option value="red">Red</option>
            <option value="orangered">OrangeRed</option>
            <option value="orange">Orange</option>
            <option value="khaki">Khaki</option>
            <option value="green">Green</option>
			<option value="lightgreen">lightGreen</option>
            <option value="lightseagreen">SeaGreen</option>
			<option value="purple">Purple</option>
			<option value="white">White</option>
			

        </select>
		
		<select style="text-align:justify" name="p2Colors" id="p2colorDiv" class="obs28" onchange="playerColorChange(2)">
            <option value="" default>P2 Color</option>
            <option value="grey">Grey</option>
			<option value="steelblue">SteelBlue</option>
            <option value="cadetblue">CadetBlue</option>
			<option value="blue">Blue</option>
            <option value="tomato">Tomato</option>
			<option value="red">Red</option>
            <option value="orangered">OrangeRed</option>
            <option value="orange">Orange</option>
            <option value="khaki">Khaki</option>
            <option value="green">Green</option>
			<option value="lightgreen">lightGreen</option>
            <option value="lightseagreen">SeaGreen</option>
			<option value="purple">Purple</option>
            <option value="white">White</option>
        </select><div class="hover" onclick="swapColors()" id="swapBtn"><text style="font-size:2pt">&nbsp;</text>Swap</div>
		<hr>
        <div class="hover" id="sendP1Score" onclick="postP1Score('add')">P1 +1 Score</div>
        <div class="hover" id="sendP2Score" onclick="postP2Score('add')">P2 +1 Score</div>
		<p style="font-size:9.25pt">&nbsp;</p>
		<div class="hover" id="sendP1ScoreSub" onclick="postP1Score('sub')">P1 -1 Score</div>
        <div class="hover" id="sendP2ScoreSub" onclick="postP2Score('sub')">P2 -1 Score</div>
		<p style="font-size:11.25pt">&nbsp;</p><hr>
		<div class="hover" id="shotClock30" onclick="shotClock(31000)">30s Shot Clock</div>
		<div class="hover" id="shotClock60" onclick="shotClock(61000)">60s Shot Clock</div><p style="font-size:9.25pt">&nbsp;</p>
		<div class="hover" id="shotClockShow" onclick="clockDisplay('show')">Show Clock</div>
		<div id="clockLocalDisplay" onclick=""></div><p style="font-size:11pt">&nbsp;</p>
		<div class="hover" id="p1extensionBtn" onclick="add30('p1')">P1 Extension</div>
		<div class="hover" id="p2extensionBtn" onclick="add30('p2')">P2 Extension</div><p style="font-size:11.5pt">&nbsp;</p>
		<div class="hover" id="stopClockDiv" onclick="stopClock()">Stop Clock</div>
		<HR><div class="hover" id="resetBtn" onclick="resetScore()">Reset Scores and Extensions</div><p style="font-size:1.5pt">&nbsp;</p>
		<div class="hover" id="p1ExtReset" onclick="resetExt('p1')">P1 Ext Reset</div>
		<div class="hover" id="p2ExtReset" onclick="resetExt('p2')">P2 Ext Reset</div><p style="font-size:9pt">&nbsp;</p>
		
		<div id="settingsBox1">
			<span>All <input type="checkbox" class="smallSize" id="allCheck" onchange="allCheck()" checked><br><span>Use Clock:<span> <input type="checkbox" class="smallSize" id="useClockSetting" onchange="clockSetting()" ><br><span>Salotto Logo:<span><input type="checkbox" class="smallSize" id="useSalottoSetting" onchange="salottoSetting()">
			<br><span><text onclick="cLogoNameChange()" id="logoName"></text>&nbsp;Logo:<span><input class="smallSize" type="checkbox" id="customLogo" onchange="customLogoSetting()">
		</div>
		<div id="settingsBox3">
		<text>Logo Image Upload<br>Max size: 2.4MB</text>
		</div><p style="font-size:1px">&nbsp;</p>
		<div class="hover" id="settingsBox2">Upload Custom Logo
			<input type="file" id="FileUpload" onchange="logoPost(this)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
			<br>
			
		</div>	
		<p style="font-size:9.5pt">&nbsp;</p>
		<div id="logoSlideShowDiv">
			<span>Sponsor Logos:<input class="smallSize" type="checkbox" id="logoSlideshowChk" onchange="logoSlideshow()"></span> 
		</div>
		
		<div class="tooltip" id="logoSsImg1"><input type="file" id="FileUploadL1" onchange="logoPostL1(this)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
			L1 <span class="tooltiptext"><img id="l1Img" src="" style="height:30px; max-width:70px"></span>
		</div>
		<div class="tooltip" id="logoSsImg2"><input type="file" id="FileUploadL2" onchange="logoPostL2(this)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
			L2 <span class="tooltiptext"><img id="l2Img" src="" style="height:30px; max-width:70px"></span>
		</div>
		<div class="tooltip" id="logoSsImg3"><input type="file" id="FileUploadL3" onchange="logoPostL3(this)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
			L3<span class="tooltiptext"><img id="l3Img" src="" style="height:30px; max-width:70px"></span>
		</div>
		<p style="font-size:11px">&nbsp;</p>
		<div class="slidecontainer">
			<input type="range" min="0" max="100" value="100" class="slider" id="myRange">
		</div></center>
<div id="obsThemeLabel"><text id="StyleChange">size:&nbsp;</text>
	<select class="obs28" name="bsstyle" id="bsStyle" onchange="bsStyleChange()">
    <option value="1">small</option>
    <option value="2" selected>medium</option>
	<option value="3">large</option>
	</select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</div>	<div id="obsThemeDiv">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		<text>theme:&nbsp;</text>
		<select class="obs28" name="Theme" id="obsTheme" onchange="obsThemeChange()">
            <option value="27" default>dark</option>
            <option value="28">yami</option>
		 </select>
		 </div>
		<!--  -->
		
	<p style="font-size:2px">&nbsp;</p><text style="font-size:7pt; color:#818181; position:fixed; top:4px; ">g4ScoreBoard v<text id="verNum"></text></text>

 		<script type="text/javascript">
				
				document.getElementById('settingsBox2').onclick = function() { 
					document.getElementById('settingsBox2').style.border = "1px solid blue";
					document.getElementById('FileUpload').click();
					setTimeout(rst_scr_btn,100);
					};
					
				document.getElementById('logoSsImg1').onclick = function() { 
					document.getElementById('logoSsImg1').style.border = "1px solid blue";
					document.getElementById('FileUploadL1').click();
					setTimeout(rst_scr_btn,100);
					};	
				
				document.getElementById('logoSsImg2').onclick = function() { 
					document.getElementById('logoSsImg2').style.border = "1px solid blue";
					document.getElementById('FileUploadL2').click();
					setTimeout(rst_scr_btn,100);
					};				
					
				document.getElementById('logoSsImg3').onclick = function() { 
					document.getElementById('logoSsImg3').style.border = "1px solid blue";
					document.getElementById('FileUploadL3').click();
					setTimeout(rst_scr_btn,100);
					};
					
			</script>
	

	</div>
	
        <script>
			var hotkeyP1ScoreUp;
			var hotkeyP1ScoreDown;
			var hotkeyP2ScoreUp;
			var hotkeyP2ScoreDown;
			var hotkeyScoreReset;
			var hotkeyP1Extension;
			var hotkeyP2Extension;
			var hotkey30Clock;
			var hotkey60Clock;
			var hotkeyStopClock;
			var hotkeySwap;

			
			var hotkeyP1ScoreUpOld = hotkeyP1ScoreUp;
			var hotkeyP2ScoreUpOld = hotkeyP2ScoreUp;
			var hotkeyP1ScoreDownOld = hotkeyP1ScoreDown;
			var hotkeyP2ScoreDownOld = hotkeyP2ScoreDown;
			var hotkeyScoreResetOld = hotkeyScoreReset;
			var hotkeyP1ExtensionOld = hotkeyP1Extension;
			var hotkeyP2ExtensionOld = hotkeyP2Extension;
			var hotkey30ClockOld = hotkey30Clock;
			var hotkey60ClockOld = hotkey60Clock;
			var hotkeyStopClockOld = hotkeyStopClock;
			var hotkeySwapOld = hotkeySwap;
			
            const bcp1s = new BroadcastChannel('player1Score');
            const bcp2s = new BroadcastChannel('player2Score');
            const bcp1n = new BroadcastChannel('player1Name');
            const bcp2n = new BroadcastChannel('player2Name');
			const bcShotClockStart = new BroadcastChannel('shotClockStart');
			const bcClockDisplay = new BroadcastChannel('clockDisplay');
			const bcri = new BroadcastChannel('race');
			const bcw = new BroadcastChannel('wager');
			const bcp1c = new BroadcastChannel('p1_color');
			const bcp2c = new BroadcastChannel('p2_color');
			const bcr = new BroadcastChannel('recv'); // return channel from browser_source 
			const bco = new BroadcastChannel('sbopacity');

			
			var tev;
			var p1ScoreValue;
			var p2ScoreValue;
			var warningBeep = new Audio("./sound/beep2.mp3");
            var foulSound = new Audio("./sound/buzz.mp3");
            var timerIsRunning;
			
			var slider = document.getElementById("myRange");
			var sliderValue;
			slider.oninput = function() {
			sliderValue = this.value/100;
			bco.postMessage(sliderValue);
			}

			
			function bsStyleChange() {
				if (document.getElementById("bsStyle").value == 1) {
				bcClockDisplay.postMessage("style100");
				localStorage.setItem("b_style", 1);

				}
				if (document.getElementById("bsStyle").value == 2) {
				bcClockDisplay.postMessage("style125");
				localStorage.setItem("b_style", 2);

				}
				if (document.getElementById("bsStyle").value == 3) {
				bcClockDisplay.postMessage("style150");
				localStorage.setItem("b_style", 3);

				}
			}




			if ( localStorage.getItem("useSalotto") != "yes" && localStorage.getItem("useClock") != "yes" && localStorage.getItem("useCustomLogo") != "yes" ) {
				document.getElementById("allCheck").checked = false;
				}
			
			if (localStorage.getItem('p1colorSet') !== null) {
				var cvalue = localStorage.getItem('p1colorSet');
				document.getElementById('p1colorDiv').style.background = localStorage.getItem('p1colorSet');
				document.getElementsByTagName("select")[0].options[0].value = cvalue;
				if (cvalue == "orange"  || cvalue == "khaki"  || cvalue == "tomato" || cvalue == "red" || cvalue == "white" || cvalue == "orangered" || cvalue == "orange" || cvalue == "lightgreen" || cvalue == "lightseagreen")  { document.getElementById("p1colorDiv").style.color= "#000";} else { document.getElementById("p1colorDiv").style.color= "lightgrey";};

			}
			
			if (localStorage.getItem('p2colorSet') !== null) {
				var cvalue = localStorage.getItem('p2colorSet');
				document.getElementById('p2colorDiv').style.background = localStorage.getItem('p2colorSet');
				if (cvalue == "orange"  || cvalue == "khaki"  || cvalue == "tomato" || cvalue == "red" || cvalue == "orangered" || cvalue == "white" || cvalue == "orange" || cvalue == "lightgreen" || cvalue == "lightseagreen")  { document.getElementById("p2colorDiv").style.color= "#000";} else { document.getElementById("p2colorDiv").style.color= "lightgrey";};

			}
			
			if (localStorage.getItem('p1ScoreCtrlPanel') > 0 || localStorage.getItem('p1ScoreCtrlPanel') == "" ) {
				p1ScoreValue = localStorage.getItem('p1ScoreCtrlPanel');
				bcp1s.postMessage(p1ScoreValue);
				} else {
				p1ScoreValue = 0;
				bcp1s.postMessage(p1ScoreValue);
				}
			if (localStorage.getItem('p2ScoreCtrlPanel') > 0 || localStorage.getItem('p2ScoreCtrlPanel') == "" ) {
				p2ScoreValue = localStorage.getItem('p2ScoreCtrlPanel');
				bcp2s.postMessage(p2ScoreValue);
				} else {
				p2ScoreValue = 0;
				bcp2s.postMessage(p2ScoreValue);
				}
			
			if (localStorage.getItem("useSalotto") == "yes") {
					console.log("salotto = TRUE");
					document.getElementById("useSalottoSetting").checked = true;
					salottoSetting();
						} 	else {
						salottoSetting()
						}
			
			if (localStorage.getItem("useCustomLogo") == "yes") {
					console.log("customLogo = TRUE");
					document.getElementById("customLogo").checked = true;
					customLogoSetting();
						} 	else {
						customLogoSetting()
						}			
			
			if (localStorage.getItem("useClock") == "yes") {
					console.log("Clock = TRUE");
					document.getElementById("useClockSetting").checked = true;
					clockSetting();
						} 	else {
						document.getElementById("useSalottoSetting").checked = false;
						document.getElementById("useSalottoSetting").removeAttribute("checked");
						clockSetting()
						}			
			
			
			bcr.onmessage = (event) => {
					document.getElementById("clockLocalDisplay").style.background = "green";
					document.getElementById("clockLocalDisplay").innerHTML = event.data + "s";
					tev =  event.data;
					console.log(tev);
					if (tev > 20) {
						document.getElementById("clockLocalDisplay").style.color = "white";
						}
					if (tev > 5 && tev < 21) {
						document.getElementById("clockLocalDisplay").style.color = "black";
					}
					if (tev < 21) {
						document.getElementById("clockLocalDisplay").style.background = "orange";
					}
					if (tev < 16) {
						document.getElementById("clockLocalDisplay").style.background = "yellow";
						}
					if (tev < 11) {
						document.getElementById("clockLocalDisplay").style.background = "tomato";
						}
					if (tev == 10) {
						document.getElementById("shotClockShow").setAttribute("onclick", "clockDisplay('hide')");
						document.getElementById("shotClockShow").innerHTML = "Hide Clock";
						document.getElementById("shotClockShow").style.border = "1px solid lime";


						}
                    if (tev < 6 && tev > 0) {    //tev > 0   this prevents both sounds from playing at 0.
						document.getElementById("clockLocalDisplay").style.background = "red";
						document.getElementById("clockLocalDisplay").style.color = "white";
                        warningBeep.loop = false;
                        warningBeep.play(); 
                    }
                    if (tev == 0) {
                        foulSound.loop= false;
                        foulSound.play();
						stopClock();
						}
					
			}
			

			function logoSlideshow() {
				if (document.getElementById("logoSlideshowChk").checked == true) {
					document.getElementById("customLogo").checked = false;
					customLogoSetting_slideshowoff();
					localStorage.setItem("slideShow","yes");
					bcClockDisplay.postMessage("logoSlideShow-show");
					} else {
					bcClockDisplay.postMessage("logoSlideShow-hide");
					localStorage.setItem("slideShow","no");

					}
			}
		
		
			function logoPost(input) {
				
				if (input.files && input.files[0]) {
				const imgPath = document.getElementById('FileUpload').files[0];
				const reader = new FileReader();
					reader.readAsDataURL(input.files[0]);
					reader.addEventListener("load", function () {
					// convert image file to base64 string and save to localStorage
					try { localStorage.setItem("customImage", reader.result); }
					catch(err) { alert("the selected image exceedes the maximium file size");}

					}, false);
				setTimeout(logoOther, 50);
				}
			}
			
			function logoPostL1(input) {
				
				if (input.files && input.files[0]) {
				const imgPath = document.getElementById('FileUploadL1').files[0];
				const reader = new FileReader();
					reader.readAsDataURL(input.files[0]);
					reader.addEventListener("load", function () {
					// convert image file to base64 string and save to localStorage
					try {localStorage.setItem("customLogo1", reader.result);}
					catch(err) { alert("the selected image exceedes the maximium file size");}
					document.getElementById("l1Img").src = localStorage.getItem("customLogo1");

					}, false);
				if (document.getElementById("logoSlideshowChk").checked == true) {setTimeout(slideOther, 50); };

				}
			}
			
			function logoPostL2(input) {
				
				if (input.files && input.files[0]) {
				const imgPath = document.getElementById('FileUploadL2').files[0];
				const reader = new FileReader();
					reader.readAsDataURL(input.files[0]);
					reader.addEventListener("load", function () {
					// convert image file to base64 string and save to localStorage
					try {localStorage.setItem("customLogo2", reader.result);}
					catch(err) { alert("the selected image exceedes the maximium file size");}
					document.getElementById("l2Img").src = localStorage.getItem("customLogo2");
					}, false);
				if (document.getElementById("logoSlideshowChk").checked == true) {setTimeout(slideOther, 50); };

				}
			}
			
			function logoPostL3(input) {
				
				if (input.files && input.files[0]) {
				const imgPath = document.getElementById('FileUploadL3').files[0];
				const reader = new FileReader();
					reader.readAsDataURL(input.files[0]);
					reader.addEventListener("load", function () {
					// convert image file to base64 string and save to localStorage
					try { localStorage.setItem("customLogo3", reader.result); }
					catch(err) { alert("the selected image exceedes the maximium file size");}
					document.getElementById("l3Img").src = localStorage.getItem("customLogo3");
					}, false);
				if (document.getElementById("logoSlideshowChk").checked == true) {setTimeout(slideOther, 50); };

				}
			}
			
			function logoOther() {
				bcClockDisplay.postMessage('postLogo');
			}
			
			function slideOther() {
				bcClockDisplay.postMessage('logoSlideShow-show');
			}
			
			function swapColors() {
				if (localStorage.getItem('p1colorSet') != null){ var p1original = localStorage.getItem('p1colorSet'); } else { var p1original = "white"; }
				if (localStorage.getItem('p2colorSet') != null){ var p2original = localStorage.getItem('p2colorSet'); } else { var p2original = "white"; }				
				setTimeout( function()  { document.getElementById("p1colorDiv").value = p2original; document.getElementById("p2colorDiv").value = p1original; bcp1c.postMessage(p2original); bcp2c.postMessage(p1original); 
				document.getElementById("p2colorDiv").style.background = p1original; document.getElementById("p1colorDiv").style.background = p2original; localStorage.setItem('p1colorSet', p2original); localStorage.setItem('p2colorSet', p1original);
				document.getElementsByTagName("select")[0].options[0].value = p2original; document.getElementsByTagName("select")[1].options[0].value = p1original;	c1value = p1original; c2value = p2original;
				if (c1value == "orange"  || c1value == "khaki"  || c1value == "tomato" || c1value == "red" || c1value == "orangered" || c1value == "white" || c1value == "orange" || c1value == "lightgreen" || c1value == "lightseagreen")  { document.getElementById("p2colorDiv").style.color= "#000";} else { document.getElementById("p2colorDiv").style.color= "lightgrey";};
				if (c2value == "orange"  || c2value == "khaki"  || c2value == "tomato" || c2value == "red" || c2value == "orangered" || c2value == "white" || c2value == "orange" || c2value == "lightgreen" || c2value == "lightseagreen")  { document.getElementById("p1colorDiv").style.color= "#000";} else { document.getElementById("p1colorDiv").style.color= "lightgrey";};
				} , 100);
			}


			function playerColorChange(player) {
			var cvalue  = document.getElementById("p"+player+"colorDiv").value;
			if (player == 1) {
				bcp1c.postMessage(document.getElementById("p"+player+"colorDiv").value);
				document.getElementById("p1colorDiv").style.background = document.getElementById("p"+player+"colorDiv").value;
				if (cvalue == "orange"  || cvalue == "khaki"  || cvalue == "tomato" || cvalue == "red" || cvalue == "orangered" || cvalue == "white" || cvalue == "orange" || cvalue == "lightgreen" || cvalue == "lightseagreen")  { document.getElementById("p1colorDiv").style.color= "#000";} else { document.getElementById("p1colorDiv").style.color= "lightgrey";};
				localStorage.setItem("p1colorSet", document.getElementById("p"+player+"colorDiv").value);
				document.getElementsByTagName("select")[0].options[0].value = cvalue;
				} else {
					bcp2c.postMessage(document.getElementById("p"+player+"colorDiv").value);
					document.getElementById("p2colorDiv").style.background = document.getElementById("p"+player+"colorDiv").value;
					if (cvalue == "orange"  || cvalue == "khaki"  || cvalue == "tomato" || cvalue == "red" || cvalue == "orangered" || cvalue == "white" || cvalue == "orange" || cvalue == "lightgreen" || cvalue == "lightseagreen")  { document.getElementById("p2colorDiv").style.color= "#000";} else { document.getElementById("p2colorDiv").style.color= "lightgrey";};
					localStorage.setItem("p2colorSet", document.getElementById("p"+player+"colorDiv").value);
					document.getElementsByTagName("select")[1].options[0].value = cvalue;
				}
			}

			function clockSetting() {
				if (!document.getElementById("useClockSetting").checked) {
						localStorage.setItem("useClock", "no");
						bcClockDisplay.postMessage("noClock");
						document.getElementById("shotClock30").classList.add("noShow");
						document.getElementById("shotClock60").classList.add("noShow");
						document.getElementById("shotClockShow").classList.add("noShow");
						document.getElementById("stopClockDiv").classList.add("noShow");
						document.getElementById("p1extensionBtn").classList.add("noShow");
						document.getElementById("p2extensionBtn").classList.add("noShow");
						document.getElementById("p1ExtReset").classList.add("noShow");
						document.getElementById("p2ExtReset").classList.add("noShow");
						document.getElementById("resetBtn").innerHTML = "Reset Scores";
						if ( localStorage.getItem("useSalotto") != "yes" && localStorage.getItem("useClock") != "yes" && localStorage.getItem("useCustomLogo") != "yes" ) {
						document.getElementById("allCheck").checked = false;
				}

					} else if (document.getElementById("useClockSetting").checked) {
						localStorage.setItem("useClock", "yes");
						bcClockDisplay.postMessage("useClock");
						document.getElementById("shotClock30").classList.remove("noShow");
						document.getElementById("shotClock60").classList.remove("noShow");
						document.getElementById("shotClockShow").classList.remove("noShow");
						document.getElementById("stopClockDiv").classList.remove("noShow");
						document.getElementById("p1extensionBtn").classList.remove("noShow");
						document.getElementById("p2extensionBtn").classList.remove("noShow");
						document.getElementById("p1ExtReset").classList.remove("noShow");
						document.getElementById("p2ExtReset").classList.remove("noShow");
						document.getElementById("resetBtn").innerHTML = "Reset Scores and Extensions";
						if ( localStorage.getItem("useSalotto") == "yes" && localStorage.getItem("useClock") == "yes" && localStorage.getItem("useCustomLogo") == "yes" ) {
						document.getElementById("allCheck").checked = true;
						}
					}
			}
	
			function clockDisplay(opt3) {
				bcClockDisplay.postMessage(opt3);
				if (opt3 == "show") {
					document.getElementById("shotClockShow").innerHTML = "Hide Clock";
					document.getElementById("shotClockShow").setAttribute("onclick", "clockDisplay('hide')");
					document.getElementById("shotClockShow").style.border = "1px solid lime";
				} else if (opt3 == "hide") {
					document.getElementById("shotClockShow").innerHTML = "Show Clock";
					document.getElementById("shotClockShow").setAttribute("onclick", "clockDisplay('show')");
					document.getElementById("shotClockShow").style.border = "none";
				}
			}
					

            function postNames() {
				if (raceInfoTxt.value == " "){
					raceInfoTxt.value = "&nbsp;";
					}
				if (wagerInfoTxt.value == " "){
					wagerInfoTxt.value = "&nbsp;";
					}	
                bcp1n.postMessage(document.getElementById("p1Name").value.substring(0, 29));    
				bcp2n.postMessage(document.getElementById("p2Name").value.substring(0, 29));
				bcri.postMessage(document.getElementById("raceInfoTxt").value);
				bcw.postMessage(document.getElementById("wagerInfoTxt").value);
				var p1FirstName = document.getElementById("p1Name").value.split(" ")[0];
				var p2FirstName = document.getElementById("p2Name").value.split(" ")[0];
				if (!p1Name.value == "") {document.getElementById("p1ExtReset").innerHTML = "Reset<br>"+p1FirstName.substring(0, 9)+"'s Ext";} else {document.getElementById("p1ExtReset").innerHTML = "P1 Ext Reset";}
				if (!p2Name.value == "") {document.getElementById("p2ExtReset").innerHTML = "Reset<br>"+p2FirstName.substring(0, 9)+"'s Ext";} else {document.getElementById("p2ExtReset").innerHTML = "P2 Ext Reset";}
				if (!p2Name.value == "") {document.getElementById("p2extensionBtn").innerHTML = p2FirstName.substring(0, 9)+"'s<br>Extension";} else {document.getElementById("p2extensionBtn").innerHTML = "P2 Extension";}
				if (!p1Name.value == "") {document.getElementById("p1extensionBtn").innerHTML = p1FirstName.substring(0, 9)+"'s<br>Extension";} else {document.getElementById("p1extensionBtn").innerHTML = "P1 Extension";}
				localStorage.setItem("p1NameCtrlPanel", p1Name.value);
				localStorage.setItem("p2NameCtrlPanel", p2Name.value);
				localStorage.setItem("raceInfo", raceInfoTxt.value);
				localStorage.setItem("wagerInfo", wagerInfoTxt.value);

				
			}
			            
            function postP1Score(opt1) {
				if (opt1 == "add") {
					p1ScoreValue = p1ScoreValue +++ 1;
					bcp1s.postMessage(p1ScoreValue);
					localStorage.setItem("p1ScoreCtrlPanel", p1ScoreValue);
					stopClock();
					document.getElementById("sendP1Score").style.border ="1px solid lightgreen";
					setTimeout(rst_scr_btn, 100);
					} else {
						if (p1ScoreValue > 0) {
							p1ScoreValue = p1ScoreValue --- 1;
							bcp1s.postMessage(p1ScoreValue);
							localStorage.setItem("p1ScoreCtrlPanel", p1ScoreValue);
							document.getElementById("sendP1ScoreSub").style.border ="1px solid tomato";
							setTimeout(rst_scr_btn, 100);
					} 
				}
				resetExt('p1','noflash');
				resetExt('p2','noflash');
				
			}
            function rst_scr_btn() {
				document.getElementById("sendP1Score").style.border ="none";
				document.getElementById("sendP2Score").style.border ="none";
				document.getElementById("sendP1ScoreSub").style.border ="none";
				document.getElementById("sendP2ScoreSub").style.border ="none";
				document.getElementById("p1ExtReset").style.border = "none";
				document.getElementById("p2ExtReset").style.border = "none";
				document.getElementById('settingsBox2').style.border = "none";
				document.getElementById('logoSsImg1').style.border = "none";
				document.getElementById('logoSsImg2').style.border = "none";
				document.getElementById('logoSsImg3').style.border = "none";
			}
			
			
			
			function shotClock(timex) {
				timerIsRunning = true;
				bcShotClockStart.postMessage(timex);
				if  (timex  == 31000) { document.getElementById("shotClock30").style.border = "1px solid lime"; } else { document.getElementById("shotClock60").style.border = "1px solid lime"; };


				document.getElementById("shotClock30").setAttribute("onclick", "");
				document.getElementById("shotClock60").setAttribute("onclick", "");
				document.getElementById("shotClock30").style.color = "dimgrey";
				document.getElementById("shotClock60").style.color = "dimgrey";
				if (localStorage.getItem("obsTheme") == "28") { document.getElementById("stopClockDiv").classList.replace("obs28", "blue28");}
				else { document.getElementById("stopClockDiv").classList.replace("obs27", "maroon"); } ;
				document.getElementById("stopClockDiv").classList.remove("hover");
			    //document.getElementById("clockLocalDisplay").classList.remove("noShow");
				
			}
			
			function stopClock() {
				bcClockDisplay.postMessage('stopClock');
				timerIsRunning = false;
				document.getElementById("shotClock30").style.border = "none";
				document.getElementById("shotClock60").style.border = "none";
				document.getElementById("clockLocalDisplay").style.background = "green";
				document.getElementById("shotClock30").setAttribute("onclick", "shotClock(31000)");
				document.getElementById("shotClock60").setAttribute("onclick", "shotClock(61000)");
				document.getElementById("clockLocalDisplay").innerHTML = "";
			//	document.getElementById("clockLocalDisplay").classList.add("noShow");
				document.getElementById("clockLocalDisplay").style.background = "none";
				clockDisplay("hide");
				document.getElementById("clockLocalDisplay").style.color = "black";
				document.getElementById("shotClock30").style.color = "lightGrey";
				document.getElementById("shotClock60").style.color = "lightGrey";
				if (localStorage.getItem("obsTheme") == "28") { document.getElementById("stopClockDiv").classList.replace("blue28", "obs28");}
				else { document.getElementById("stopClockDiv").classList.replace("maroon", "obs27"); } ;
				document.getElementById("stopClockDiv").classList.add("hover");
				setTimeout(rst_scr_btn, 100);
			}
			
			
            function postP2Score(opt2) {
				if (opt2 == "add") {
					p2ScoreValue = p2ScoreValue +++ 1;
					bcp2s.postMessage(p2ScoreValue);
					localStorage.setItem("p2ScoreCtrlPanel", p2ScoreValue);
					stopClock();
					document.getElementById("sendP2Score").style.border ="1px solid lightgreen";
					setTimeout(rst_scr_btn, 100);
					} else {
						if (p2ScoreValue > 0) {
							p2ScoreValue = p2ScoreValue --- 1;
							bcp2s.postMessage(p2ScoreValue);
							localStorage.setItem("p2ScoreCtrlPanel", p2ScoreValue);
							document.getElementById("sendP2ScoreSub").style.border ="1px solid tomato";
							setTimeout(rst_scr_btn, 100);
							} 
				}
				resetExt('p1','noflash');
				resetExt('p2','noflash');
			}
			
			function resetScore() {
				if (confirm("Click OK to confirm")) {
				p1ScoreValue = 0;
				p2ScoreValue = 0;
				localStorage.setItem("p1ScoreCtrlPanel", 0);
				localStorage.setItem("p2ScoreCtrlPanel", 0);
				bcp1s.postMessage(p1ScoreValue);   
				bcp2s.postMessage(p2ScoreValue);   
				resetExt('p1','noflash');
				resetExt('p2','noflash');		
				} else { }
			}	


			function add30(player) { 
					bcClockDisplay.postMessage(player +"extension");
					document.getElementById(player+"extensionBtn").setAttribute("onclick", "");
					document.getElementById(player+"extensionBtn").style.color = "dimgrey";
					document.getElementById(player+"extensionBtn").style.border = "1px solid red";
					clockDisplay("hide");
			}

			function resetExt(player,flash) {
				bcClockDisplay.postMessage(player +"ExtReset");
				document.getElementById(player+"extensionBtn").setAttribute("onclick", "add30('"+player+"')");
				document.getElementById(player+"extensionBtn").style.border = "none";
				document.getElementById(player+"extensionBtn").style.color = "lightGrey";
				if (flash != "noflash") {
				document.getElementById(player+"ExtReset").style.border = "1px solid blue";
				setTimeout(rst_scr_btn, 100); };

				
			}

			function salottoSetting() {
				if (!document.getElementById("useSalottoSetting").checked) {
				bcClockDisplay.postMessage("hidesalotto");
				localStorage.setItem("useSalotto", "no");
				if ( localStorage.getItem("useSalotto") != "yes" && localStorage.getItem("useClock") != "yes" && localStorage.getItem("useCustomLogo") != "yes" ) {	document.getElementById("allCheck").checked = false;}
				} else {
				bcClockDisplay.postMessage("showsalotto");
				localStorage.setItem("useSalotto", "yes");
				if ( localStorage.getItem("useSalotto") == "yes" && localStorage.getItem("useClock") == "yes" && localStorage.getItem("useCustomLogo") == "yes" ) {	document.getElementById("allCheck").checked = true;}
				}
			}
			
			
			
			function customLogoSetting_slideshowoff() {
				if (!document.getElementById("customLogo").checked) {
				bcClockDisplay.postMessage("hidecustomLogo");
				localStorage.setItem("useCustomLogo", "no");
				if ( localStorage.getItem("useSalotto") != "yes" && localStorage.getItem("useClock") != "yes" && localStorage.getItem("useCustomLogo") != "yes" ) {	document.getElementById("allCheck").checked = false;}
				} else {
				bcClockDisplay.postMessage("showcustomLogo");
				localStorage.setItem("useCustomLogo", "yes");
				
				if ( localStorage.getItem("useSalotto") == "yes" && localStorage.getItem("useClock") == "yes" && localStorage.getItem("useCustomLogo") == "yes" ) {	document.getElementById("allCheck").checked = true;	}
				}
			}
			
			function customLogoSetting() {
				if (!document.getElementById("customLogo").checked) {
				bcClockDisplay.postMessage("hidecustomLogo");
				localStorage.setItem("useCustomLogo", "no");
				if ( localStorage.getItem("useSalotto") != "yes" && localStorage.getItem("useClock") != "yes" && localStorage.getItem("useCustomLogo") != "yes" ) {	document.getElementById("allCheck").checked = false;}
				} else {
				bcClockDisplay.postMessage("showcustomLogo");
				localStorage.setItem("useCustomLogo", "yes");
				document.getElementById("logoSlideshowChk").checked = false;
				logoSlideshow();
				if ( localStorage.getItem("useSalotto") == "yes" && localStorage.getItem("useClock") == "yes" && localStorage.getItem("useCustomLogo") == "yes" ) {	document.getElementById("allCheck").checked = true;	}
				}
			}
				
			function allCheck() {
				if (!document.getElementById("allCheck").checked) {
				document.getElementById("useClockSetting").checked =  true; 
				document.getElementById("useSalottoSetting").checked =  true; 
				document.getElementById("customLogo").checked =  true; 
				document.getElementById("useClockSetting").click(); 
				document.getElementById("useSalottoSetting").click(); 
				document.getElementById("customLogo").click(); 
				} 
				else { 
				document.getElementById("useClockSetting").checked =  false; 
				document.getElementById("useSalottoSetting").checked =  false; 
				document.getElementById("customLogo").checked =  false; 
				document.getElementById("useClockSetting").click(); 
				document.getElementById("useSalottoSetting").click(); 
				document.getElementById("customLogo").click(); 
				}				
					
			}			
			

			//////////////////// HotKey scripts

			//Reload the hotjeys.js file updated by the LUA script
			function updateHotkeys() {
			    src = 'hotkeys.js';
			    $('script[src="' + src + '"]').remove();
			    var head= document.getElementsByTagName('head')[0];
		    	var script= document.createElement('script');
		    	script.src= src;
		    	head.appendChild(script);
			}

			//Toggle the switches if a hotkey is pressed
			function checkHotkeys (){
			
				if (hotkeyP1ScoreUp != hotkeyP1ScoreUpOld){	postP1Score('add'); hotkeyP1ScoreUpOld = hotkeyP1ScoreUp; }
				if (hotkeyP2ScoreUp != hotkeyP2ScoreUpOld){	postP2Score('add');	hotkeyP2ScoreUpOld = hotkeyP2ScoreUp; }
				if (hotkeyP1ScoreDown != hotkeyP1ScoreDownOld){	postP1Score('sub'); hotkeyP1ScoreDownOld = hotkeyP1ScoreDown; }
				if (hotkeyP2ScoreDown != hotkeyP2ScoreDownOld){	postP2Score('sub'); hotkeyP2ScoreDownOld = hotkeyP2ScoreDown; }
				if (hotkeyScoreReset != hotkeyScoreResetOld){ resetScore(); hotkeyScoreResetOld = hotkeyScoreReset;	}
				if (hotkeyP1Extension != hotkeyP1ExtensionOld){	add30('p1'); hotkeyP1ExtensionOld = hotkeyP1Extension; }
				if (hotkeyP2Extension != hotkeyP2ExtensionOld){	add30('p2'); hotkeyP2ExtensionOld = hotkeyP2Extension; }
				if (hotkey30Clock != hotkey30ClockOld){	shotClock(31000); hotkey30ClockOld = hotkey30Clock; }
				if (hotkey60Clock != hotkey60ClockOld){	shotClock(61000); hotkey60ClockOld = hotkey60Clock;	}
				if (hotkeyStopClock != hotkeyStopClockOld){	stopClock(); hotkeyStopClockOld = hotkeyStopClock; }
				if (hotkeySwap != hotkeySwapOld){ swapColors(); hotkeySwapOld = hotkeySwap;	}
			}
			
			function refreshData() {
			    x = 0.05; // Refresh time multiplier
				checkHotkeys();
				updateHotkeys();
				setTimeout(refreshData, x*1000);
			}
	
			
			//////////////////// end of HotKey scripts
			

			
			function obsThemeChange() {
				if (localStorage.getItem("obsTheme") == null) { localStorage.setItem("obsTheme", "28"); document.getElementById("obsTheme").value =  "28";  };
				if (document.getElementById("obsTheme").value ==  "28") {
					localStorage.setItem("obsTheme", "28");
					document.getElementsByTagName("body")[0].style.background = "#2b2e38";
					document.getElementsByTagName("hr")[0].style.borderTop = "1px solid steelblue";
					document.getElementsByTagName("hr")[1].style.borderTop = "1px solid steelblue";
					document.getElementsByTagName("hr")[2].style.borderTop = "1px solid steelblue";
					document.getElementById("swapBtn").style.border = "1px solid steelblue";
					document.getElementById("mainDiv").style.background = "#2b2e38";
					document.getElementById("sendPNames").classList.replace("obs27" , "obs28");
					document.getElementById("swapBtn").classList.replace("obs27" , "obs28");
					document.getElementById("sendP1Score").classList.replace("obs27" , "obs28");
					document.getElementById("sendP1ScoreSub").classList.replace("obs27" , "obs28");
					document.getElementById("sendP2Score").classList.replace("obs27" , "obs28");
					document.getElementById("sendP2ScoreSub").classList.replace("obs27" , "obs28");
					document.getElementById("shotClock30").classList.replace("obs27" , "obs28");
					document.getElementById("shotClock60").classList.replace("obs27" , "obs28");
					document.getElementById("p1extensionBtn").classList.replace("obs27" , "obs28");
					document.getElementById("p2extensionBtn").classList.replace("obs27" , "obs28");
					document.getElementById("stopClockDiv").classList.replace("obs27" , "obs28");
					document.getElementById("resetBtn").classList.replace("obs27" , "obs28");
					document.getElementById("p1ExtReset").classList.replace("obs27" , "obs28");
					document.getElementById("p2ExtReset").classList.replace("obs27" , "obs28");
					document.getElementById("settingsBox1").classList.replace("obs27" , "obs28");
					document.getElementById("settingsBox2").classList.replace("obs27" , "obs28");
					document.getElementById("settingsBox3").classList.replace("obs27" , "obs28");
					document.getElementById("obsTheme").classList.replace("obs27" , "obs28");
					document.getElementById("shotClockShow").classList.replace("obs27" , "obs28");
					document.getElementById("topPlayerGameInfo").classList.replace("obs27" , "obs28"); 
					document.getElementById("obsTheme").classList.replace("obs27", "obs28");
					document.getElementById("logoSlideShowDiv").classList.replace("obs27", "obs28");
					document.getElementById("logoSsImg1").classList.replace("obs27", "obs28");
					document.getElementById("logoSsImg2").classList.replace("obs27", "obs28");
					document.getElementById("logoSsImg3").classList.replace("obs27", "obs28");
					} else  { 
					localStorage.setItem("obsTheme",  "27");
					document.getElementsByTagName("body")[0].style.background = "#1f1e1f";
					document.getElementsByTagName("hr")[0].style.borderTop = "1px solid #997300";
					document.getElementsByTagName("hr")[1].style.borderTop = "1px solid #997300";
					document.getElementsByTagName("hr")[2].style.borderTop = "1px solid #997300";
					document.getElementById("swapBtn").style.border = "1px solid #997300";
					document.getElementById("mainDiv").style.background ="#1f1e1f"; 
					document.getElementById("sendPNames").classList.replace("obs28" , "obs27");
					document.getElementById("swapBtn").classList.replace("obs28" , "obs27");
					document.getElementById("sendP1Score").classList.replace("obs28" , "obs27");
					document.getElementById("sendP1ScoreSub").classList.replace("obs28" , "obs27");
					document.getElementById("sendP2Score").classList.replace("obs28" , "obs27");
					document.getElementById("sendP2ScoreSub").classList.replace("obs28" , "obs27");
					document.getElementById("shotClock30").classList.replace("obs28" , "obs27");
					document.getElementById("shotClock60").classList.replace("obs28" , "obs27");
					document.getElementById("p1extensionBtn").classList.replace("obs28" , "obs27");
					document.getElementById("p2extensionBtn").classList.replace("obs28" , "obs27");
					document.getElementById("stopClockDiv").classList.replace("obs28" , "obs27");
					document.getElementById("resetBtn").classList.replace("obs28" , "obs27");
					document.getElementById("p1ExtReset").classList.replace("obs28" , "obs27");
					document.getElementById("p2ExtReset").classList.replace("obs28" , "obs27");
					document.getElementById("settingsBox1").classList.replace("obs28" , "obs27");
					document.getElementById("settingsBox2").classList.replace("obs28" , "obs27");
					document.getElementById("settingsBox3").classList.replace("obs28" , "obs27");
					document.getElementById("obsTheme").classList.replace("obs28" , "obs27");
					document.getElementById("shotClockShow").classList.replace("obs28" , "obs27");
					document.getElementById("topPlayerGameInfo").classList.replace("obs28" , "obs27"); 
					document.getElementById("obsTheme").classList.replace("obs28", "obs27");
					document.getElementById("logoSlideShowDiv").classList.replace("obs28", "obs27");
					document.getElementById("logoSsImg1").classList.replace("obs28", "obs27");
					document.getElementById("logoSsImg2").classList.replace("obs28", "obs27");
					document.getElementById("logoSsImg3").classList.replace("obs28", "obs27");
					}		
			}
			
			function startThemeCheck() {
					if (localStorage.getItem("obsTheme") == null) { localStorage.setItem("obsTheme", "28"); document.getElementById("obsTheme").value =  "28";  };
					if (localStorage.getItem("obsTheme") == "28") {
					document.getElementsByTagName("hr")[0].style.borderTop = "1px solid steelblue";
					document.getElementsByTagName("hr")[1].style.borderTop = "1px solid steelblue";
					document.getElementsByTagName("hr")[2].style.borderTop = "1px solid steelblue";
					document.getElementById("swapBtn").style.border = "1px solid steelblue";
					document.getElementsByTagName("body")[0].style.background = "#2b2e38";
					document.getElementById("sendPNames").classList.add("obs28");
					document.getElementById("swapBtn").classList.add("obs28");
					document.getElementById("sendP1Score").classList.add("obs28");
					document.getElementById("sendP1ScoreSub").classList.add("obs28");
					document.getElementById("sendP2Score").classList.add("obs28");
					document.getElementById("sendP2ScoreSub").classList.add("obs28");
					document.getElementById("shotClock30").classList.add("obs28");
					document.getElementById("shotClock60").classList.add("obs28");
					document.getElementById("p1extensionBtn").classList.add("obs28");
					document.getElementById("p2extensionBtn").classList.add("obs28");
					document.getElementById("stopClockDiv").classList.add("obs28");
					document.getElementById("resetBtn").classList.add("obs28");
					document.getElementById("p1ExtReset").classList.add("obs28");
					document.getElementById("p2ExtReset").classList.add("obs28");
					document.getElementById("settingsBox1").classList.add("obs28");
					document.getElementById("settingsBox2").classList.add("obs28");
					document.getElementById("settingsBox3").classList.add("obs28");
					document.getElementById("obsTheme").classList.add("obs28");
					document.getElementById("shotClockShow").classList.add("obs28");
					document.getElementById("topPlayerGameInfo").classList.add("obs28");
					document.getElementById("logoSlideShowDiv").classList.add("obs28");
					document.getElementById("logoSsImg1").classList.add("obs28");
					document.getElementById("logoSsImg2").classList.add("obs28");
					document.getElementById("logoSsImg3").classList.add("obs28");
					}
					if (localStorage.getItem("obsTheme") == "27") {
					document.getElementsByTagName("body")[0].style.background = "#1f1e1f";
					document.getElementsByTagName("hr")[0].style.borderTop = "1px solid #997300";
					document.getElementsByTagName("hr")[1].style.borderTop = "1px solid #997300";
					document.getElementsByTagName("hr")[2].style.borderTop = "1px solid #997300";
					document.getElementById("swapBtn").style.border = "1px solid #997300";
					document.getElementById("sendPNames").classList.add("obs27");
					document.getElementById("swapBtn").classList.add("obs27");
					document.getElementById("sendP1Score").classList.add("obs27");
					document.getElementById("sendP1ScoreSub").classList.add("obs27");
					document.getElementById("sendP2Score").classList.add("obs27");
					document.getElementById("sendP2ScoreSub").classList.add("obs27");
					document.getElementById("shotClock30").classList.add("obs27");
					document.getElementById("shotClock60").classList.add("obs27");
					document.getElementById("p1extensionBtn").classList.add("obs27");
					document.getElementById("p2extensionBtn").classList.add("obs27");
					document.getElementById("stopClockDiv").classList.add("obs27");
					document.getElementById("resetBtn").classList.add("obs27");
					document.getElementById("p1ExtReset").classList.add("obs27");
					document.getElementById("p2ExtReset").classList.add("obs27");
					document.getElementById("settingsBox1").classList.add("obs27");
					document.getElementById("settingsBox2").classList.add("obs27");
					document.getElementById("settingsBox3").classList.add("obs27");
					document.getElementById("obsTheme").classList.add("obs27");
					document.getElementById("shotClockShow").classList.add("obs27");
					document.getElementById("topPlayerGameInfo").classList.add("obs27");
					document.getElementById("logoSlideShowDiv").classList.add("obs27");
					document.getElementById("logoSsImg1").classList.add("obs27");
					document.getElementById("logoSsImg2").classList.add("obs27");
					document.getElementById("logoSsImg3").classList.add("obs27");
					}
			}
			
			function cLogoNameChange() {
				cLogoName = prompt("What name do you want displayed here?");
				if (cLogoName != null && cLogoName != "") {
				localStorage.setItem("clogoNameStored", cLogoName.substring(0, 13));
				document.getElementById("logoName").innerHTML = cLogoName.substring(0, 13);
				}
			}


			// afterload statements
			if (localStorage.getItem("customLogo1") != null) {document.getElementById("l1Img").src = localStorage.getItem("customLogo1");} else { document.getElementById("l1Img").src = "./images/placeholder.png"; };
			if (localStorage.getItem("customLogo2") != null) {document.getElementById("l2Img").src = localStorage.getItem("customLogo2");} else { document.getElementById("l2Img").src = "./images/placeholder.png"; };
			if (localStorage.getItem("customLogo3") != null) {document.getElementById("l3Img").src = localStorage.getItem("customLogo3");} else { document.getElementById("l3Img").src = "./images/placeholder.png"; };
			if (localStorage.getItem("slideShow") == "yes") { document.getElementById("logoSlideshowChk").checked = true; logoSlideshow(); };
			if (localStorage.getItem("obsTheme") == "28") { document.getElementById("obsTheme").value = "28"; }
			if (localStorage.getItem("b_style") == "1") { document.getElementById("bsStyle").value = "1"; }
			if (localStorage.getItem("b_style") == "2") { document.getElementById("bsStyle").value = "2"; }
			if (localStorage.getItem("b_style") == "3") { document.getElementById("bsStyle").value = "3"; }
			if (localStorage.getItem("clogoNameStored") != null) { document.getElementById("logoName").innerHTML = localStorage.getItem("clogoNameStored"); }	
			document.getElementById("logoName").innerHTML = cLogoName.substring(0, 13);
			document.getElementById("p1Name").value = localStorage.getItem("p1NameCtrlPanel");
			document.getElementById("p2Name").value = localStorage.getItem("p2NameCtrlPanel");
			document.getElementById("raceInfoTxt").value = localStorage.getItem("raceInfo");
			document.getElementById("wagerInfoTxt").value = localStorage.getItem("wagerInfo");
			document.getElementById("verNum").innerHTML = versionNum;			
			postNames();
			refreshData();
			startThemeCheck();
		
		</script>
  
	</body>
</html>
